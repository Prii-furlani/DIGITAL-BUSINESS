<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="_template.xhtml">

	<ui:define name="menu">

	</ui:define>

	<ui:define name="content">
		<!-- FORM -->
		<h:form class="card-form">
			<!-- CARD -->
			<p:card style="width: 28em">
				<h2 style="padding: 0 1rem; margin-top: 0;">Login</h2>
				<p:panelGrid columns="2" layout="grid"
					columnClasses="ui-g-4 ui-fluid, ui-g-8 ui-fluid">

					<p:outputLabel value="Email" for="email" />
					<p:inputText id="email" value="#{usuarioBean.usuario.email}"
						required="true">
						<f:validateRegex pattern="[\w\.]+@[\w\.]+\.[\w\.]+" />
						<f:ajax event="blur" render="messages" />
					</p:inputText>

					<p:outputLabel value="Password" for="password" />
					<p:password id="password" style="width: 100%"
						value="#{usuarioBean.usuario.senha}" required="true"
						toggleMask="true">
						<f:ajax event="blur" render="messages" />
					</p:password>

					<p:row>
						<p:column>
							<p:commandButton icon="pi pi-check" value="Login"
								action="#{usuarioBean.login}">
								<!-- Quando salvar os dados, renderiza o form do DataTable -->
								<f:ajax execute="@form" render="form-setups" />
							</p:commandButton>
						</p:column>
					</p:row>

					<p:row>
					 	<p:column styleClass="ui-grid-col-12">
					 		<p:messages id="messages" />
					 	</p:column>
					</p:row>

				</p:panelGrid>
			</p:card>
			<!-- CARD -->
		</h:form>
		<!-- FORM -->

	</ui:define>
</ui:composition>
</html>